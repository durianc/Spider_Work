{'content': '## 大家好~欢迎来到我的题解\n安利博客先：[blog](https://www.luogu.org/blog/blackfrog/)\n\n在三子棋这道题目中，我们知道，只要一个队伍连成了一条线，游戏就结束。这和我以前做的一道题[P1219](https://www.luogu.org/problemnew/show/P1219)《八皇后》非常相似。不过，八皇后旨在避免有一行的重复。\n\n那么《三子棋》中，获胜有四种不同的情况：  \n1. 横向连成一条线\n2. 纵向连成一条线\n3. 从左下到右上连成一条线\n4. 从右下到左上连成一条线。\n# 所以我不用疯狂判断或打表，代码肯定比别人简单！\n如果fa先代码比别人那些宏伟壮观的都少的，麻烦点个赞哦！\n\n广告结束，正题开始。\n如果我们要求横向连成一条线，那么所有的方格可以这么编码：\n```\n0 0 0\n1 1 1\n2 2 2\n```\n这样子，我们可以看到数组下标和编码的规律：`m[i][j] = i`.\n同理，纵向的规律就是`m[i][j] = j`.\n但是斜向怎么办呢？首先，编码如下：\n```\n1 0 0    0 0 1\n0 1 0 or 0 1 0\n0 0 1    1 0 0  \n```\n对于情况（一） ，有`m[i][j] = i==j`  \n对于情况（二） ，有`m[i][j] = (i+j==2)`  \n所以，我们可以存两个二维数组：`int a[3][4],b[3][4];`\n\n这是什么意思呢？一共存两个数组表示：一共有两个玩家；第一个长度表示：刚才那4个公式得出的值，将其作为下标；第二个长度表示，一共有4个公式，所以一共有4种结果。二维数组中存什么值呢？\n\n数组中可以存这一方，一共有多少个棋子下在了这个公式所对应的地方，只要数组中的一个值成为了3，就代表连成一线，输出，整段代码结束。\n\n希望大家能够理解。上代码咯：\n```cpp\n#include<iostream>\n#include<string>\nusing namespace std;\nint a[3][4],b[3][4];\nstring n;\nint main(){\n    cin>>n;\n    for(int i = 0;i<n.size();i++){\n        int x = i/3;\n        int y = i%3;\n        if(i%2==1){\n            a[x][0]++;\n            a[y][1]++;\n            a[x==y][2]++;\n            a[(x+y==2)][3]++;\n            if(a[x][0]==3||a[y][1]==3||a[x==y][2]==3||a[(x+y==2)][3]==3){\n                cout<<"xiaoa wins."<<endl;\n                return 0;\n            }\n        }\n        if(1%2==0){\n            b[x][0]++;\n            b[y][1]++;\n            b[x==y][2]++;\n            b[(x+y==2)][3]++;\n            if(b[x][0]==3||b[y][1]==3||b[x==y][2]==3||b[(x+y==2)][3]==3){\n                cout<<"uim wins."<<endl;\n                return 0;\n            }\n        }\n    }\n    cout<<"drew."<<endl;\n    return 0;\n}\n```\n\n', 'type': '题解', 'status': 2, 'postTime': 1551620039, 'author': {'uid': 82417, 'name': 'blackfrog', 'slogan': '一个存在感极低的oier', 'badge': None, 'isAdmin': False, 'isBanned': False, 'color': 'Orange', 'ccfLevel': 6, 'background': ''}, 'thumbUp': 91, 'commentCount': 37, 'currentUserVoteType': 0, 'contentDescription': '大家好~欢迎来到我的题解\n安利博客先：blog\n在三子棋这道题目中，我们知道，只要一个队伍连成了一条线，游戏就结束。这和我以前做的一道题P1219《八皇后》非常相似。不过，八皇后旨在避免有一行的...', 'id': 115725, 'identifier': 'p1838', 'title': 'P1838《三子棋》用八皇后思想解入门题'}